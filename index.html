<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title id="pageTitle">Био чела ZionChik</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        margin: 0;
        background-color: #272b30;
        text-align: center;
        color: #fff;
      }
      .container {
        max-width: 600px;
        background: #333;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 1s ease, transform 1s ease;
      }
      .container.loaded {
        opacity: 1;
        transform: translateY(0);
      }
      h1 {
        color: #fff;
        margin-bottom: 20px;
      }
      .links a {
        display: flex;
        align-items: center;
        justify-content: start;
        margin: 10px 0;
        padding: 12px;
        color: #fff;
        text-decoration: none;
        border-radius: 5px;
        transition: background 0.3s ease, transform 0.2s ease;
      }
      .links a img {
        width: 24px;
        height: 24px;
        margin-right: 10px;
      }
      .links a:hover {
        transform: scale(1.05);
        box-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
      }
      .links a.telegram {
        background: #0088cc;
      }
      .links a.youtube {
        background: #ff0000;
      }
      .links a.discord {
        background: #7289da;
      }
      .random-site-button {
        background: #858585;
        color: #fff;
        padding: 12px;
        border-radius: 5px;
        text-decoration: none;
        transition: background 0.3s ease, transform 0.2s ease;
        margin: 10px 0;
        display: inline-block;
      }
      .random-site-button:hover {
        background: #9b9b9b;
        transform: scale(1.05);
        box-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
      }
      .description {
        margin-top: 20px;
        color: #ccc;
      }
      @media (max-width: 600px) {
        .container {
          padding: 20px;
        }
        .links a {
          padding: 8px;
        }
        .links a img {
          width: 20px;
          height: 20px;
        }
        h1 {
          font-size: 1.5em;
        }
        .description {
          font-size: 0.9em;
        }
      }
    </style>
  </head>
  <body>
    <div class="container" id="contentContainer">
      <h1 id="greeting">Добро пожаловать!</h1>
      <div class="links">
        <a href="https://t.me/zionchik228" target="_blank" class="telegram">
          <img
            src="https://upload.wikimedia.org/wikipedia/commons/8/82/Telegram_logo.svg"
            alt="Telegram"
          />
          <span id="telegramText">Telegram</span>
        </a>
        <a
          href="https://www.youtube.com/@ZionChik"
          target="_blank"
          class="youtube"
        >
          <img
            src="https://upload.wikimedia.org/wikipedia/commons/4/42/YouTube_icon_%282013-2017%29.png"
            alt="YouTube"
          />
          <span id="youtubeText">YouTube</span>
        </a>
        <a
          href="https://discord.com/users/848930166537322537"
          target="_blank"
          class="discord"
        >
          <img
            src="https://static.wikia.nocookie.net/discord/images/e/e6/Site-logo.png/revision/latest?cb=20220920072057&path-prefix=hr"
            alt="Discord"
          />
          <span id="discordText">Discord</span>
        </a>
        <a href="#" class="random-site-button" id="randomSiteButton">
          <span id="randomSiteButtonText">Случайный сайт</span>
        </a>
        <div id="randomSite"></div>
      </div>
      <div class="description">
        <p id="descriptionText">
          Ну что мне о себе рассказать? Я обычный чел, занимаюсь
          прокрастинацией. Выше можно увидеть мои соцсети.
        </p>
      </div>
    </div>

    <script>
      // Function to change language dynamically
      function setLanguage() {
        const userLang = navigator.language || navigator.userLanguage;
        const isRussian = userLang.startsWith("ru");
        document.getElementById("pageTitle").innerText = isRussian
          ? "Био чела ZionChik"
          : "Bio of ZionChik";
        document.getElementById("greeting").innerText = isRussian
          ? "Добро пожаловать!"
          : "Welcome!";
        document.getElementById("telegramText").innerText = "Telegram";
        document.getElementById("youtubeText").innerText = "YouTube";
        document.getElementById("discordText").innerText = "Discord";
        document.getElementById("randomSiteButtonText").innerText = isRussian
          ? "Случайный сайт"
          : "Random Site";
        document.getElementById("descriptionText").innerText = isRussian
          ? "Ну что мне о себе рассказать? Я обычный чел, занимаюсь прокрастинацией. Выше можно увидеть мои соцсети."
          : "What can I say about myself? I am just a regular person procrastinating. Above you can see my social media.";
      }

      // Call language setup on load
      window.onload = function () {
        setLanguage();

        // Greeting based on time
        const greeting = document.getElementById("greeting");
        const hours = new Date().getHours();
        if (hours < 6) {
          greeting.innerText = navigator.language.startsWith("ru")
            ? "Доброй ночи и добро пожаловать на сайт чела ZionChik"
            : "Good night and welcome to ZionChik's site";
        } else if (hours < 12) {
          greeting.innerText = navigator.language.startsWith("ru")
            ? "Доброе утро и добро пожаловать на сайт чела ZionChik"
            : "Good morning and welcome to ZionChik's site";
        } else if (hours < 18) {
          greeting.innerText = navigator.language.startsWith("ru")
            ? "Добрый день и добро пожаловать на сайт чела ZionChik"
            : "Good afternoon and welcome to ZionChik's site";
        } else {
          greeting.innerText = navigator.language.startsWith("ru")
            ? "Доброго вечера и добро пожаловать на сайт чела ZionChik"
            : "Good evening and welcome to ZionChik's site";
        }
        document.getElementById("contentContainer").classList.add("loaded");
      };

      const randomSiteButton = document.getElementById("randomSiteButton");
      const randomSiteOutput = document.getElementById("randomSite");

      const generateRandomDomain = () => {
        const letters = "abcdefghijklmnopqrstuvwxyz";
        const domainLength = Math.floor(Math.random() * 3) + 5;
        const randomName = Array.from({ length: domainLength }, () =>
          letters.charAt(Math.floor(Math.random() * letters.length))
        ).join("");
        const tlds = [
          "com",
          "net",
          "org",
          "info",
          "xyz",
          "co",
          "biz",
          "me",
          "io",
          "us",
        ];
        const randomTld = tlds[Math.floor(Math.random() * tlds.length)];
        return `http://${randomName}.${randomTld}`;
      };

      let isPinging = false;

      const pingRandomSite = async () => {
        if (isPinging) return;
        isPinging = true;

        const attemptPing = async () => {
          const site = generateRandomDomain();
          randomSiteOutput.innerText = `Пингуем сайт: ${site}`;

          const timeout = new Promise((_, reject) =>
            setTimeout(() => reject(new Error("Timeout")), 700)
          );

          try {
            const response = await Promise.race([
              fetch(site, { method: "HEAD" }),
              timeout,
            ]);

            if (response.ok) {
              window.open(site, "_blank");
              randomSiteOutput.innerText = navigator.language.startsWith("ru")
                ? "Сайт успешно открыт."
                : "Site successfully opened.";
              isPinging = false;
            } else {
              throw new Error("Response not OK");
            }
          } catch (error) {
            console.error("Ошибка пинга:", error);
            randomSiteOutput.innerText = navigator.language.startsWith("ru")
              ? "Сайт недоступен. Пытаемся снова..."
              : "Site unavailable. Trying again...";
            attemptPing();
          }
        };

        attemptPing();
      };

      randomSiteButton.addEventListener("click", pingRandomSite);
    </script>
  </body>
</html>
